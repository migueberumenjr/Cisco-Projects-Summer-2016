<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cisco TAC Tools</title>
  <meta charset="utf-8">
    
  <!-- Allows for dynamic use on any screen size -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
    
  <!-- Needed for functionality -->
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <style>
    /* Remove the navbar's default margin-bottom and rounded borders */
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
      background-color: midnightblue;
    }
    
    /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
    .row.content {height: 450px}
    
    /* Set gray background color and 100% height */
    .sidenav {
      padding-top: 20px;
      background-color: #f1f1f1;
      height: 100%;
    }
    
    /* Set black background color, white text and some padding */
    footer {
      background-color: lightsteelblue;
      color: white;
      padding: 15px;
    }
    
    /* On small screens, set height to 'auto' for sidenav and grid */
    @media screen and (max-width: 767px) {
      .sidenav {
        height: auto;
        padding: 15px;
      }
      .row.content {height:auto;}
    }
      
    #PID {
      text-transform:uppercase;
    }

    #Repair {
      text-transform:lowercase;
    }

    #Country {
      text-transform:lowercase;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
        
      <!-- Can change where this redirects to -->
      <a class="navbar-brand" href="http://wwwin.cisco.com/c/cec/index.html">Cisco</a>
    </div>
      
    <!-- Adds more tabs -->
    <div class="collapse navbar-collapse" id="myNavbar">
      <!--<ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Projects</a></li>
        <li><a href="#">Contact</a></li>
      </ul>-->
      <ul class="nav navbar-nav navbar-right">
          
          <!-- Add CEC Login feature here -->
        <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
      </ul>
    </div>
  </div>
</nav>
  
<div class="container-fluid">
  <div class="row" style="display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  flex-wrap: wrap">
    <!-- Can add links or other things here -->
    <div class="col-sm-3" style="background-color:lightgrey">
      <!--<p><a href="#">Link</a></p>
      <p><a href="#">Link</a></p>
      <p><a href="#">Link</a></p>-->
    </div>
      
    <!-- The main tool -->
    <div class="col-sm-6" style="padding-bottom:50px">
        <h1 style="text-align:center">TAC RMA Advising Tool</h1>
        <div class="col-sm-6" style="display: inline-block;">
            <form>
                <div class="form-group">
                    <label for="PID" style="text-align:left">PID:</label>
                    <input type="text" id="PID" placeholder="Enter valid PID..." onkeyup="return forceUpper(this);" required>
                    <span class="help-block">Make sure to enter a valid PID</span>
                </div>
                <div class="form-group">
                    <label for="Quantity" style="text-align:left">Quantity:</label>
                    <input type="number" id="Quantity" placeholder="Enter quantity..." required>
                    <span class="help-block">Do not enter negative or decimal numbers</span>
                </div>
                <div class="form-group">
                    <label for="Demand" style="text-align:left">Demand:</label>
                    <input type="number" id="Demand" placeholder="Enter 52 week demand..." required>
                    <span class="help-block">Do not enter negative or decimal numbers</span>
                </div>
                <div class="form-group">
                    <label for="Repair" style="text-align:left">Repaired?:</label>
                    <input type="text" id="Repair" placeholder="Y/N..." onkeyup="return forceLower(this);" required>
                    <span class="help-block">Make sure to enter only Y/N or y/n...</span>
                </div>
                <div class="form-group">
                    <label for="Country" style="text-align:left">Country:</label>
                    <input type="text" id="Country" placeholder="Enter valid country..." onkeyup="return forceLower(this);" required>
                    <span class="help-block">Make sure to check country's spelling</span>
                </div>
                <button type="button" class="btn btn-primary" onclick="advise()">Submit</button>
                <button type="reset" class="btn btn-info">Reset</button>
                <span class="help-block">Double check all your inputs before submitting</span>
            </form>
        </div>
        
        <!-- The results will be displayed here -->
        <div class="col-sm-6" id="advice" style="display: inline-block;"></div>
    </div>
      
    <!-- Can add links or other things here -->
    <div class="col-sm-3" style="background-color:lightgrey">
      <!--<div class="well">
        <p>ADS</p>
      </div>
      <div class="well">
        <p>ADS</p>
      </div>-->
    </div>
  </div>
</div>

<script>
    function forceUpper(strInput) {
        strInput.value = strInput.value.toUpperCase();
    }
    
    function forceLower(strInput) {
        strInput.value = strInput.value.toLowerCase();
    }
    
    function advise() {
        // Get inputs and store in variables
        var getPid = document.getElementById("PID").value;
        var getQuant = document.getElementById("Quantity").value;
        var getDem = document.getElementById("Demand").value;
        var getRep = document.getElementById("Repair").value;
        var getCountry = document.getElementById("Country").value;
        
        // Store variables in an object
        var inputData = {pid:getPid, quantity:getQuant, demand:getDem, repair:getRep, country:getCountry};
        
        // Flags for advice logic
        var repFlag = false;
        var demFlag = false;
        var quant1Flag = false;
        var quant2Flag = false;
        var countryFlag = false;
        var totalFlags = 0;
        
        // List of blacklisted countries
        var blacklist = ["argentina", "brazil", "china", "india"];
        
        // Flag logic for quantity requested
        if (inputData.quantity >= 10) {
            quant1Flag = true;
            quant2Flag = true;
            totalFlags += 2;
        }
        else if (inputData.quantity < 10 && inputData.quantity > 1) {
            quant1Flag = true;
            totalFlags += 1;
        }
        else {
            totalFlags = totalFlags;
        }
        
        // Flag logic for country requested
        for (var i = 0; i < blacklist.length; i++) {
            if (inputData.country == blacklist[i]) {
                countryFlag = true;
                totalFlags += 1;
                break;
            }
        }
        
        // Flag logic for PID repaired Y/N
        if (inputData.repair == "n") {
            repFlag = true;
            totalFlags += 1;
        }
        else {
            totalFlags = totalFlags;
        }
        
        // Flag logic for demand of PID
        if (inputData.demand == 0) {
            demFlag = true;
            totalFlags += 1;
        }
        else {
            totalFlags = totalFlags;
        }
        window.alert(totalFlags);
        switch(true) {
            case totalFlags <= 1:
                document.getElementById("advice").innerHTML = 
                    '<div class="row">' + 
                        '<div class="alert alert-success" id="proceed">' + 
                            '<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>' + 
                            '<strong>Success!<strong> You may feel comfortable proceeding with the RMA.' + 
                        '</div>' + 
                    '</div>';
                break;
            case totalFlags <= 3:
                document.getElementById("advice").innerHTML = 
                    '<div class="row">' + 
                        '<div class="alert alert-warning" id="yield">' + 
                            '<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>' + 
                            '<strong>Warning!<strong> It is advised that you do more research and consult with Ed Swenson before proceeding with the RMA.' + 
                        '</div>' + 
                    '</div>';
                break;
            default:
                document.getElementById("advice").innerHTML = 
                    '<div class="row">' + 
                        '<div class="alert alert-danger" id="stop">' + 
                            '<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>' + 
                            '<strong>Danger!<strong> It is advised that you do not proceed with the RMA.' + 
                        '</div>' + 
                    '</div>';
        }
    }
</script>

<footer class="container-fluid text-center">
  <p>Created by: Miguel Berumen</p>
</footer>

</body>
</html>

